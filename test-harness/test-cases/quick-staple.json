{
  "skill": "quick-staple",
  "test_cases": [
    {
      "test_id": "quick-staple-01-current",
      "description": "Pan-fried pork chops - Current conversational mode",
      "mode": "conversational",
      "inputs": {
        "user_description": "Pan-fried pork chops with mashed potatoes",
        "profile_path": "/Users/cmlee/meals/PROFILE.md"
      },
      "flow": {
        "exchanges": "5-7 back-and-forth",
        "questions": [
          "What would you call this dish?",
          "When do you typically make this?",
          "How long does it take?",
          "What seasoning do you use?",
          "What variations do you make?",
          "Why is this a go-to?",
          "Any timing notes?"
        ]
      },
      "expected_model": "sonnet-4.5",
      "quality_threshold": 1.00,
      "expected_cost": [0.40, 0.60],
      "expected_time": "~5 minutes"
    },
    {
      "test_id": "quick-staple-01-optimized",
      "description": "Same recipe - Optimized batch questions",
      "mode": "batched",
      "inputs": {
        "user_description": "Pan-fried pork chops with mashed potatoes",
        "profile_path": "/Users/cmlee/meals/PROFILE.md"
      },
      "flow": {
        "exchanges": "1 batch question + 1 confirmation",
        "questions_batched": {
          "1": {
            "question": "Recipe name?",
            "default": "Pork Chops, Pan-Fried with Mashed Potatoes",
            "type": "text"
          },
          "2": {
            "question": "When typically made?",
            "options": ["weeknight", "weekend", "flexible"],
            "type": "choice"
          },
          "3": {
            "question": "Time estimate?",
            "options": ["under-30", "30-60", "60-120", "120+"],
            "type": "choice"
          },
          "4": {
            "question": "Seasoning?",
            "default": "salt, pepper, garlic powder, onion powder (from profile)",
            "type": "text with smart default"
          },
          "5": {
            "question": "Common variations?",
            "type": "text"
          },
          "6": {
            "question": "Why a go-to?",
            "type": "text"
          }
        }
      },
      "validation_checks": {
        "profile_awareness": {
          "standard_seasoning": "Should default to profile's standard seasoning",
          "saved_fats": "Should mention bacon drippings or schmaltz",
          "household_size": "Default to 2-3 servings"
        },
        "template_quality": {
          "sections": ["Core Components", "Shopping Needs", "Preparation Notes", "Variation Ideas"],
          "tags": ["quick-staple", "weeknight", "pork", "comfort-food"],
          "flexibility": "Emphasize variations and flexibility"
        }
      },
      "expected_model": "haiku",
      "quality_threshold": 0.90,
      "expected_cost": [0.10, 0.15],
      "expected_time": "< 2 minutes",
      "notes": "Much faster interaction, good enough quality"
    },
    {
      "test_id": "quick-staple-02",
      "description": "Roasted chicken with vegetables - test profile context",
      "mode": "batched",
      "inputs": {
        "user_description": "Roasted chicken leg quarters with potatoes and carrots",
        "profile_path": "/Users/cmlee/meals/PROFILE.md"
      },
      "validation_checks": {
        "profile_inference": {
          "chicken_source": "Should note 'Chicken leg quarters from Rewe' (profile)",
          "saved_fats": "Should mention collecting schmaltz for future use",
          "standard_seasoning": "Apply profile's standard seasoning"
        },
        "existing_recipe_check": {
          "note": "User already has 'chicken-leg-quarters-roasted-with-magic-potatoes-and-carrots'",
          "behavior": "Should still capture but note similarity"
        }
      },
      "expected_model": "haiku",
      "quality_threshold": 0.90
    }
  ],
  "interaction_comparison": {
    "conversational": {
      "pros": ["Feels collaborative", "Can ask clarifying questions", "Flexible flow"],
      "cons": ["5-7 exchanges", "~5 minutes", "More expensive"],
      "model": "Sonnet 4.5",
      "cost": "$0.40-0.60"
    },
    "batched": {
      "pros": ["Fast (< 2 min)", "Efficient", "Cheap", "Smart defaults from profile"],
      "cons": ["Less conversational", "Form-like feel"],
      "model": "Haiku",
      "cost": "$0.10-0.15",
      "ux_acceptable_because": "Skill name is 'quick-staple' - speed is expected"
    }
  },
  "optimization_targets": {
    "phase_2": {
      "model": "haiku",
      "modifications": [
        "Batch all questions in single AskUserQuestion call",
        "Smart defaults from profile (seasoning, household size)",
        "Template-based recipe generation",
        "Reduce conversational exchanges from 5-7 to 2"
      ],
      "expected_savings": "70-75%",
      "quality_threshold": 0.90,
      "ux_rationale": "Name says 'quick' - users expect fast capture, not conversation"
    }
  }
}
