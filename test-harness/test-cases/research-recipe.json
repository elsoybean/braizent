{
  "skill": "research-recipe",
  "test_cases": [
    {
      "test_id": "research-recipe-01-quick",
      "description": "Vietnamese Pho - Quick Research mode",
      "mode": "quick",
      "inputs": {
        "dish_name": "Vietnamese Pho",
        "profile_path": "/Users/cmlee/meals/PROFILE.md",
        "context": {
          "user_tries_new_weekly": true,
          "has_asian_market_access": true,
          "skill_level": "advanced"
        }
      },
      "validation_checks": {
        "web_search": {
          "query": "Vietnamese Pho highly-rated recipes",
          "num_results": "3-5 top options"
        },
        "comparison": {
          "dimensions": ["Authentic vs. Simplified", "Time required", "Ingredient accessibility"],
          "format": "Brief table or bullet points"
        },
        "profile_adaptation": {
          "household_size": "2 servings (1.2x appetite)",
          "equipment": "Note available equipment",
          "asian_market": "Mention ingredients from Asian Market"
        },
        "user_selection": {
          "flow": "User picks from options",
          "adaptation": "System adapts chosen recipe to profile"
        }
      },
      "expected_model": "sonnet-3.5",
      "quality_threshold": 0.95,
      "expected_cost": [0.60, 0.80],
      "notes": "Good enough for trying new weeknight recipe"
    },
    {
      "test_id": "research-recipe-01-deep",
      "description": "Vietnamese Pho - Deep Research mode",
      "mode": "deep",
      "inputs": {
        "dish_name": "Vietnamese Pho",
        "profile_path": "/Users/cmlee/meals/PROFILE.md",
        "context": {
          "special_occasion": "Weekend project",
          "wants_authentic": true
        }
      },
      "validation_checks": {
        "multi_perspective_search": {
          "simple": {
            "query": "easy pho recipe",
            "target": "Food blogs, accessible home cooking"
          },
          "authentic": {
            "query": "authentic Vietnamese pho traditional recipe",
            "priority": "Vietnamese cooks, first-gen immigrants",
            "cultural_blogs": true
          },
          "refined": {
            "query": "chef pho recipe Michelin",
            "target": "Professional chefs, restaurant techniques"
          }
        },
        "cultural_sensitivity": {
          "prioritize": "Voices from Vietnamese culture",
          "context": "Traditional serving, regional variations (Northern vs. Southern)",
          "stories": "Include cultural significance, family traditions"
        },
        "synthesis": {
          "comparison": "Detailed comparison across all three versions",
          "key_differences": "Ingredients, techniques, timing",
          "essential_elements": "What makes pho pho?"
        },
        "personalization": {
          "user_collaboration": "Ask preference questions",
          "adaptation": "Adapt to profile (household, equipment, ingredients)",
          "explanation": "Explain decisions made"
        },
        "outputs": {
          "files": [
            "pho_personalized.md (user's version)",
            "pho_simple.md (variant)",
            "pho_authentic.md (variant)",
            "pho_refined.md (variant)"
          ],
          "source_credits": "All URLs and sources preserved"
        }
      },
      "expected_model": "sonnet-4.5 or opus",
      "quality_threshold": 1.00,
      "expected_cost": [3.00, 5.00],
      "notes": "Premium experience - cultural respect, deep research"
    },
    {
      "test_id": "research-recipe-02-quick",
      "description": "Italian Carbonara - Quick mode",
      "mode": "quick",
      "inputs": {
        "dish_name": "Pasta Carbonara",
        "profile_path": "/Users/cmlee/meals/PROFILE.md"
      },
      "validation_checks": {
        "staple_cuisine": {
          "note": "Italian is a staple cuisine",
          "expectation": "Faster, less cultural deep-dive needed"
        },
        "comparison": {
          "authentic_vs_americanized": "Note differences (cream vs. no cream)",
          "technique_focus": "Egg tempering is key skill"
        }
      },
      "expected_model": "sonnet-3.5",
      "quality_threshold": 0.95,
      "expected_cost": [0.60, 0.80]
    }
  ],
  "comparison_analysis": {
    "quick_vs_deep": {
      "use_quick_when": [
        "Weeknight new recipes",
        "Familiar cuisines",
        "Time-pressed",
        "Just want to try something"
      ],
      "use_deep_when": [
        "Weekend projects",
        "Culturally significant dishes",
        "Want to learn deeply",
        "Special occasion/impress guests"
      ],
      "cost_difference": "Quick $0.60-0.80 vs. Deep $3-5 (80% cheaper)"
    }
  },
  "optimization_targets": {
    "phase_2": {
      "quick_mode": {
        "model": "sonnet-3.5",
        "features": [
          "Single WebSearch with targeted query",
          "3-5 top results",
          "Brief comparison (not deep synthesis)",
          "User picks, system adapts"
        ],
        "skip": [
          "Multi-perspective search",
          "Cultural deep-dive",
          "Source credibility analysis",
          "Creating variant files"
        ],
        "expected_cost": [0.60, 0.80],
        "expected_savings": "75-80% vs. deep mode"
      },
      "deep_mode": {
        "model": "sonnet-4.5 or opus",
        "features": [
          "Keep all current features",
          "Multi-perspective (simple/authentic/refined)",
          "Cultural sensitivity",
          "Comprehensive synthesis",
          "Create 4 files (personalized + 3 variants)"
        ],
        "cost": [3.00, 5.00],
        "note": "Opt-in premium - worth the cost"
      }
    }
  }
}
